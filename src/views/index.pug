extends ./_partials/layout.pug

block vars
  - bodyClass = 'index'

block main

  main

    .main-container.container

      .columns
        .column.is-full.is-two-thirds-widescreen
          .section.home-info
            p
              | Hi. I am Jakub Albert Ferenc. Nice to meet you.
              | As a PhD student, I research <em>(post)phenomenology</em>,
              | <em>media theory</em>, <em>extended mind</em>, and <em>philosophy of technology</em>.
              | Apart from that, I founded a UX design studio <a href="https://www.assemblage.cz">assemblage.cz</a>.

      .columns.is-multiline
        .column.is-two-thirds-widescreen
          .section.section-posts.section-articles
            h2.section-title latest articles

            - const limit = 3;
            - let current = 0;

            each article in posts
              if (current < limit)

                - const isFiction = article.categories.includes(303);
                - const isPoetry = article.categories.includes(304);
                - const isAcademic = article.categories.includes(8);

                if (!isAcademic && !isPoetry && !isFiction)
                  article.post-thumb
                    h3.title
                      a(href=`/article/${article.slug}`) #{article.title.rendered}
                    - const dateCzech = makeCzechDateFromYMD(article.date.split('T')[0]);
                    .date #{dateCzech}

                    - current = current + 1

      .columns.is-multiline
        .column.is-half-widescreen.is-full
          .section.section-posts.section-events
            h2.section-title latest events

            - const eventLimit = 3;
            - let currentEvent = 0;

            each event in events

              if (currentEvent < limit)

                article.post-thumb-list
                  h3.title
                    a(href=`${event.link}`) #{event.title}
                  - const dateCzech = makeCzechDateFromYMD(event.date);
                  .date #{dateCzech} | #{event.place}

                  - currentEvent = currentEvent + 1
